<div class="container">
	<div class="nav-wrapper">

		<div *ngIf="loggedIn && users && users.length>0">
			<div class="row">
				<div class="col s6 m8">
					<select class="browser-default" [(ngModel)]="selectedBillingUser" name="selectedBillingUser">
						<option [value]="user._id" *ngFor="let user of users;let i=index;">
							<span *ngIf="user && user.email">
								{{user.email}}
							</span>
						</option>
					</select>
				</div>
			</div>
		</div>
		<div class="billing-duration" *ngIf="packageDetails && packageDetails.length>0">
		Annual Billing
		<md-slide-toggle
		  class="example-margin"
		  [(ngModel)]="selectedDuration"
		  (change)=upgradeCostDuration()>
		</md-slide-toggle>
		Monthly Billing
		</div>
		<div class="pricing-table">
			<div class="row">
				<div class="col s12 m4" *ngFor="let packageDetail of packageDetails">
					<div class="card">
						<div class="card-content center-align">
								<h2 class="card-title">{{packageDetail.packages.name}}</h2>
								<p>{{packageDetail.packages.description}}</p>
								<h3 class="price">
									{{packageDetail.packages.cost|currency:'USD':true}}
								</h3>
								<p *ngIf="packageDetail.packages.cost===0;else limitedPeriod">
									{{'Unlimited Period'}}
								</p>
								<ng-template #limitedPeriod>
									<p>
										{{'for '+packageDetail.packages.days+' days'}}
									</p>
								</ng-template>
								<div class="btn-holder">
									<a *ngIf="loggedIn; else publicBilling;" (click)="selectPackage(packageDetail)" class="waves-effect waves-light btn btn-start btn-large" [attr.disabled]="(disableBillingBtn==true || (_cookieService.get('remainingDays')-0)>2)?true:null">pay bill</a>
									<ng-template #publicBilling>
										<a class="waves-effect waves-light btn btn-start btn-large" (click)="openRegisterModal(packageDetail.packages)">
											{{ (packageDetail.packages.cost==0) ? 'Start Now' : 'Start '+ packageDetail.packages.trialPeriod + ' days Trial' }}
										</a>
									</ng-template>
								</div>
							<div>
								<ul class="plan-list">
									<li *ngFor="let feature of packageDetail.features">
										{{ feature.name }}
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>