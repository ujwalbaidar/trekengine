<form class="col s12" #packageDetail="ngForm" novalidate>
	<h4 md-dialog-title>{{ title }}</h4>
	<div md-dialog-content>
		<div class="row">
			<div class="input-field col s6">
				<label for="package-name" [ngClass]="{'active':(appPackage.name!=undefined)}">
					*Package Name
				</label>
				<input id="package-name" type="text" class="validate" name="name" [(ngModel)]="appPackage.name" #name="ngModel" [value] = "appPackage.name" required>
				<div *ngIf="name.errors && (name.dirty || name.touched)"
					class="alert alert-danger">
					<div [hidden]="!name.errors.required">
						This Field is Required!
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="input-field col s6">
				<label for="package-description" [ngClass]="{'active':(appPackage.description!=undefined)}">Package Description</label>
				<input id="package-description" type="text" class="validate" name="description" [(ngModel)]="appPackage.description" #description="ngModel" [value] = "appPackage.description">
			</div>
		</div>
		<div class="row">
			<div class="input-field col s3">
				<label for="package-cost" [ngClass]="{'active':(appPackage.cost!=undefined)}">
					*Package Cost
				</label>
				<input id="package-cost" type="number" class="validate" name="cost" [(ngModel)]="appPackage.cost" #cost="ngModel" [value] = "appPackage.cost" required>
				<div *ngIf="cost.errors && (cost.dirty || cost.touched)"
					class="alert alert-danger">
					<div [hidden]="!cost.errors.required">
						This Field is Required!
					</div>
				</div>
			</div>
			<div class="input-field col s3">
				<label for="package-days" [ngClass]="{'active':(appPackage.days!=undefined)}">
					*Valid Period
				</label>
				<input id="package-days" type="number" class="validate" name="days" [(ngModel)]="appPackage.days" #days="ngModel" [value] = "appPackage.days" required>
				<div *ngIf="days.errors && (days.dirty || days.touched)"
					class="alert alert-danger">
					<div [hidden]="!days.errors.required">
						This Field is Required!
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="input-field col s3">
				<label for="package-trial-period" [ngClass]="{'active':(appPackage.trialPeriod!=undefined)}">
					*Trial Period
				</label>
				<input id="package-trial-period" type="number" class="validate" name="trialPeriod" [(ngModel)]="appPackage.trialPeriod" #trialPeriod="ngModel" [value] = "appPackage.trialPeriod" required>
				<div *ngIf="trialPeriod.errors && (trialPeriod.dirty || trialPeriod.touched)"
					class="alert alert-danger">
					<div [hidden]="!trialPeriod.errors.required">
						This Field is Required!
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col s6 m8">
				<select class="browser-default" [(ngModel)]="selectedFeature" name="selectPackageFeature" (change)="addFeature()">
					<option [value]="appFeature._id" *ngFor="let appFeature of appFeatures;let i=index;">
						<span *ngIf="appFeature && appFeature.name;else emptySelector">
							{{appFeature.name}}
						</span>
						<ng-template #emptySelector>Select Package Features</ng-template>
					</option>
				</select>
			</div>
		</div>
		
		<div class="row">

			<div class="col s6">
				<ul class="collection" *ngIf="selectedFeatureArr && selectedFeatureArr.length>0">
					<li class="collection-item" *ngFor="let packageFeature of selectedFeatureArr; let indx=index;">
						<div class="title" class="col s11">
							<span>{{packageFeature.name}}</span>
						</div>
						<div class="col s1">
							<a (click)="removePackageFeature(indx)">X</a>
						</div>
						<span *ngIf="packageFeature.description">
							{{packageFeature.description}}
						</span>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div md-dialog-actions>
		<a md-button class="waves-effect #009688 teal btn" (click)="submitAppPackages(packageDetail.form)">Submit</a>
	</div>
</form>
